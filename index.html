<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>&lt;freebase-search&gt;</title>
    <script src="bower_components/platform/platform.js"></script>

    <!-- Demo CSS -->
    <link rel='stylesheet' href='http://fonts.googleapis.com/css?family=Roboto'  type='text/css'>
    <link rel="stylesheet" href="demo/demo.css">

    <!-- Importing freebase-search -->
    <link rel="import" href="src/freebase-search.html">
</head>
<body>
    <div class="search-box">
        <label>Search: </label>
        <freebase-search id="search-element" thumbnail="true" lang="en" key="AIzaSyCQXvFx7PMLEImgshuRNJ_vlngLBCTVxkA"></freebase-search>
    </div>

    <div class="result-box">
        <div class="show-image">
            <img src="http://placehold.it/222&text=no+image" alt="">
        </div>

        <div class="about">
            <div class="show-name"></div>
            <div class="show-title"></div>
            <div class="show-description"></div>
        </div>
    </div>

    <script>
      (function(){
        var element = document.querySelector('#search-element'),
            showDesc = document.querySelector('.show-description'),
            showImg = document.querySelector('.show-image > img'),
            showName = document.querySelector('.show-name');
            showTitle = document.querySelector('.show-title');
            key = 'AIzaSyCQVC9yA72POMg2VjiQhSJQQP1nf3ToZTs';

        element.addEventListener('result', function(result) {
          console.log(result);
          var descriptions = result.detail.output.all['description./common/topic/description'],
              name = !!result.detail.name ? result.detail.name : '',
              title = !!result.detail.notable ? result.detail.notable.name : '';
              images = result.detail.output.all['property./common/topic/image'];

          showName.innerHTML = name;

          showTitle.innerHTML = title;

          if(!!descriptions && descriptions.length > 0) {
            showDesc.innerHTML = descriptions[0];
          } else {
            showDesc.innerHTML = '';
          }



          if(!!images && images.length > 0) {
            showImg.src = 'https://www.googleapis.com/freebase/v1/image' + images[0].mid + '?key=' + key + '&maxwidth=160';
          } else {
            showImg.src = 'http://placehold.it/160&text=no+image';
          }
        });
      })();
    </script>
</body>
</html>
